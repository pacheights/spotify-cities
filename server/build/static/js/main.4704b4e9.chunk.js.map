{"version":3,"sources":["App.tsx","index.js"],"names":["App","useState","locations","setLocations","useEffect","accessToken","window","location","href","split","length","fetch","then","res","json","className","onClick","a","replace","map","locationObj","city","Object","keys","listeners","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0KA2CeA,MAvCf,WAAgB,IAAD,EACqBC,mBAAS,IAD9B,mBACNC,EADM,KACKC,EADL,KAiBb,OAdAC,qBAAU,WAAO,IAAD,EAGRC,EAAW,UAFLC,OAAOC,SAASC,KACTC,MAAM,iBACE,UAAV,aAAG,EAAWA,MAAM,KAAK,IAErCJ,IAAwB,OAATH,QAAS,IAATA,OAAA,EAAAA,EAAWQ,QAAS,GAExCC,MAAM,GAAD,OAZQ,uBAYR,0BAA8BN,IAClCO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAE,GACJX,EAAaW,SAKf,yBAAKC,UAAU,OACb,4BAAQC,QAAO,sBAAE,sBAAAC,EAAA,sDACfX,OAAOC,SAASW,QAAhB,UAtBS,uBAsBT,eADe,4CAAjB,sBAKA,6BAEIhB,EAAUiB,KAAI,SAAAC,GACZ,IAAMC,EAAOC,OAAOC,KAAKH,GAAa,GAChCI,EAAYJ,EAAYC,GAC9B,OACE,qCAAOA,EAAP,aAAgBG,UC9B9BC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.4704b4e9.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst BASE_URL = 'http://localhost:443';\n\nfunction App() {\n  const [locations, setLocations] = useState([]);\n\n  useEffect(() => {\n    const url = window.location.href;\n    const params = url.split('access_token=');\n    const accessToken = params[1]?.split('&')[0];\n    \n    if (!accessToken || locations?.length > 0) return;\n\n    fetch(`${BASE_URL}/artists?token=${accessToken}`)\n    .then(res => res.json())\n    .then(json => {\n      setLocations(json)\n    })\n  })\n\n  return (\n    <div className=\"App\">\n      <button onClick={async () => {\n        window.location.replace(`${BASE_URL}/authorize`);\n      }}>\n        Connect to Spotify\n      </button>\n      <div>\n        {\n          locations.map(locationObj => {\n            const city = Object.keys(locationObj)[0];\n            const listeners = locationObj[city];\n            return (\n              <p>{`${city}: ${listeners}`}</p>\n            )\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}